"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
  var exports = {};
  exports.id = "pages/api/product";
  exports.ids = ["pages/api/product"];
  exports.modules = {
    /***/ "@prisma/client":
      /*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
      /***/ (module) => {
        module.exports = require("@prisma/client");

        /***/
      },

    /***/ "(api)/./lib/prisma.ts":
      /*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ "@prisma/client");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nlet prisma;\nif (false) {} else {\n    let globalWithPrisma = global;\n    if (!globalWithPrisma.prisma) {\n        globalWithPrisma.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = globalWithPrisma.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM4QjtBQUU5QyxJQUFJQztBQUVKLElBQUlDLEtBQXFDLEVBQUUsRUFFMUMsTUFBTTtJQUNILElBQUlDLG1CQUFtQkM7SUFHdkIsSUFBSSxDQUFDRCxpQkFBaUJGLE1BQU0sRUFBRTtRQUMxQkUsaUJBQWlCRixNQUFNLEdBQUcsSUFBSUQsd0RBQVlBO0lBQzlDLENBQUM7SUFDREMsU0FBU0UsaUJBQWlCRixNQUFNO0FBQ3BDLENBQUM7QUFFRCxpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2UtY29tYmEvLi9saWIvcHJpc21hLnRzPzk4MjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL3ByaXNtYS50c1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmxldCBwcmlzbWE6IFByaXNtYUNsaWVudDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbn0gZWxzZSB7XG4gICAgbGV0IGdsb2JhbFdpdGhQcmlzbWEgPSBnbG9iYWwgYXMgdHlwZW9mIGdsb2JhbFRoaXMgJiB7XG4gICAgICAgIHByaXNtYTogUHJpc21hQ2xpZW50O1xuICAgIH07XG4gICAgaWYgKCFnbG9iYWxXaXRoUHJpc21hLnByaXNtYSkge1xuICAgICAgICBnbG9iYWxXaXRoUHJpc21hLnByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbiAgICB9XG4gICAgcHJpc21hID0gZ2xvYmFsV2l0aFByaXNtYS5wcmlzbWE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJwcm9jZXNzIiwiZ2xvYmFsV2l0aFByaXNtYSIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n'
        );

        /***/
      },

    /***/ "(api)/./pages/api/product/index.ts":
      /*!************************************!*\
  !*** ./pages/api/product/index.ts ***!
  \************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Product)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/prisma */ "(api)/./lib/prisma.ts");\n\nfunction Product(req, res) {\n    if (req.method === "POST") {\n        const product = req.body.product;\n        if (!product) return;\n        createProduct(product, res);\n    }\n    if (req.method === "GET") {\n        const query = req.query;\n        if (!query) return;\n        getProduct(res, query);\n    }\n    if (req.method === "PUT") {\n        const product1 = req.body.product;\n        if (!product1) return;\n        updateProduct(res, product1);\n    }\n    if (req.method === "DELETE") {\n        const id = req.body.id;\n        if (!id) return;\n        deleteProduct(res, id);\n    }\n}\nasync function createProduct(product, res) {\n    try {\n        const category = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].category.findUnique({\n            where: {\n                name: product.category\n            }\n        });\n        if (!category) {\n            return res.status(400).json({\n                error: "Category not found"\n            });\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].product.create({\n            data: {\n                name: product.name,\n                categoryId: category.id,\n                color: product.color,\n                description: product.desc,\n                price: product.price,\n                listImage: product.image,\n                size: product.size,\n                gender: product.gender,\n                quantity: product.quantity\n            }\n        });\n        res.status(200).json("Create Successful");\n    } catch (error) {\n        res.status(500).json(error);\n    }\n}\nasync function getProduct(res, query) {\n    const color = query.color ? query.color.split("-") : undefined;\n    const colorFull = [\n        "black",\n        "green",\n        "pink",\n        "white",\n        "red",\n        "blue",\n        "yellow",\n        "lime"\n    ];\n    const genderFull = [\n        "men",\n        "women",\n        "kids"\n    ];\n    const order = query.sort === "desc-date" ? {\n        createdAt: "desc"\n    } : query.sort === "desc-price" ? {\n        price: "desc"\n    } : query.sort === "asc-price" ? {\n        price: "asc"\n    } : {\n        createdAt: "asc"\n    };\n    const categoryFilter = query.category && query.category !== "all" ? {\n        category: {\n            is: {\n                name: {\n                    contains: query.category,\n                    mode: "insensitive"\n                }\n            }\n        }\n    } : {};\n    try {\n        const getProd = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].product.findMany({\n            skip: (Number(query.page || 1) - 1) * 6,\n            take: Number(query.limit),\n            include: {\n                category: true\n            },\n            where: {\n                ...categoryFilter,\n                name: {\n                    contains: query.query,\n                    mode: "insensitive"\n                },\n                gender: {\n                    in: query.gender ? query.gender.split("-") : genderFull\n                },\n                color: {\n                    hasSome: color || colorFull\n                },\n                price: {\n                    gt: query.min ? Number(query.min) : 0,\n                    lt: query.max ? Number(query.max) : 999999999\n                }\n            },\n            orderBy: order\n        });\n        const total = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].product.count({\n            where: {\n                ...categoryFilter,\n                name: {\n                    contains: query.query,\n                    mode: "insensitive"\n                },\n                gender: {\n                    in: query.gender ? query.gender.split("-") : genderFull\n                },\n                color: {\n                    hasSome: color || colorFull\n                },\n                price: {\n                    gt: query.min ? Number(query.min) : 0,\n                    lt: query.max ? Number(query.max) : 999999999\n                }\n            }\n        });\n        res.status(200).json({\n            product: getProd,\n            total\n        });\n    } catch (error) {\n        res.status(500).json(error);\n    }\n}\nasync function updateProduct(res, product) {\n    try {\n        const category = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].category.findUnique({\n            where: {\n                name: product.category\n            }\n        });\n        if (!category) {\n            return res.status(400).json({\n                error: "Category not found"\n            });\n        }\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].product.update({\n            where: {\n                id: product.id\n            },\n            data: {\n                name: product.name,\n                categoryId: category.id,\n                color: product.color,\n                description: product.desc,\n                price: product.price,\n                listImage: product.image,\n                size: product.size,\n                gender: product.gender,\n                quantity: product.quantity\n            }\n        });\n        res.status(200).json("Update Successful");\n    } catch (error) {\n        res.status(500).json(error);\n    }\n}\nasync function deleteProduct(res, id) {\n    try {\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__["default"].product["delete"]({\n            where: {\n                id: id\n            }\n        });\n        res.status(200).json("Update Successful");\n    } catch (error) {\n        res.status(500).json(error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDN0QsSUFBSTtRQUNGLE1BQU1YLHFFQUFxQixDQUFDO1lBQzFCZSxPQUFPO2dCQUNMSixJQUFJQTtZQUNOO1FBQ0Y7UUFDQVIsSUFBSWMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztJQUN2QixFQUFFLE9BQU9DLE9BQU87UUFDZGhCLElBQUljLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNDO0lBQ3ZCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lLWNvbWJhLy4vcGFnZXMvYXBpL3Byb2R1Y3QvaW5kZXgudHM/Njc3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IFByb2R1Y3RQcm9wcyB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcmZhY2VzL3Byb2R1Y3RcIjtcbmltcG9ydCB7IEdldFVzZXJzUXVlcnkgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy91c2VyXCI7XG5pbXBvcnQgcHJpc21hIGZyb20gXCIuLi8uLi8uLi9saWIvcHJpc21hXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFByb2R1Y3QocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgY29uc3QgcHJvZHVjdCA9IHJlcS5ib2R5LnByb2R1Y3Q7XG4gICAgaWYgKCFwcm9kdWN0KSByZXR1cm47XG4gICAgY3JlYXRlUHJvZHVjdChwcm9kdWN0LCByZXMpO1xuICB9XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICBjb25zdCBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICBpZiAoIXF1ZXJ5KSByZXR1cm47XG4gICAgZ2V0UHJvZHVjdChyZXMsIHF1ZXJ5KTtcbiAgfVxuXG4gIGlmIChyZXEubWV0aG9kID09PSBcIlBVVFwiKSB7XG4gICAgY29uc3QgcHJvZHVjdCA9IHJlcS5ib2R5LnByb2R1Y3Q7XG4gICAgaWYgKCFwcm9kdWN0KSByZXR1cm47XG4gICAgdXBkYXRlUHJvZHVjdChyZXMsIHByb2R1Y3QpO1xuICB9XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiREVMRVRFXCIpIHtcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkO1xuICAgIGlmICghaWQpIHJldHVybjtcbiAgICBkZWxldGVQcm9kdWN0KHJlcywgaWQpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3QocHJvZHVjdDogUHJvZHVjdFByb3BzLCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICB0cnkge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgcHJpc21hLmNhdGVnb3J5LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgbmFtZTogcHJvZHVjdC5jYXRlZ29yeSB9LFxuICAgIH0pO1xuICAgIGlmICghY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIkNhdGVnb3J5IG5vdCBmb3VuZFwiIH0pO1xuICAgIH1cbiAgICBhd2FpdCBwcmlzbWEucHJvZHVjdC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICAgIGNhdGVnb3J5SWQ6IGNhdGVnb3J5LmlkLFxuICAgICAgICBjb2xvcjogcHJvZHVjdC5jb2xvcixcbiAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3QuZGVzYyxcbiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXG4gICAgICAgIGxpc3RJbWFnZTogcHJvZHVjdC5pbWFnZSxcbiAgICAgICAgc2l6ZTogcHJvZHVjdC5zaXplLFxuICAgICAgICBnZW5kZXI6IHByb2R1Y3QuZ2VuZGVyLFxuICAgICAgICBxdWFudGl0eTogcHJvZHVjdC5xdWFudGl0eSxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oXCJDcmVhdGUgU3VjY2Vzc2Z1bFwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnJvcik7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdChyZXM6IE5leHRBcGlSZXNwb25zZSwgcXVlcnk6IEdldFVzZXJzUXVlcnkpIHtcbiAgY29uc3QgY29sb3IgPSBxdWVyeS5jb2xvciA/IHF1ZXJ5LmNvbG9yLnNwbGl0KFwiLVwiKSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgY29sb3JGdWxsID0gW1xuICAgIFwiYmxhY2tcIixcbiAgICBcImdyZWVuXCIsXG4gICAgXCJwaW5rXCIsXG4gICAgXCJ3aGl0ZVwiLFxuICAgIFwicmVkXCIsXG4gICAgXCJibHVlXCIsXG4gICAgXCJ5ZWxsb3dcIixcbiAgICBcImxpbWVcIixcbiAgXTtcbiAgY29uc3QgZ2VuZGVyRnVsbCA9IFtcIm1lblwiLCBcIndvbWVuXCIsIFwia2lkc1wiXTtcbiAgY29uc3Qgb3JkZXI6IHsgW2tleTogc3RyaW5nXTogXCJhc2NcIiB8IFwiZGVzY1wiIH0gPVxuICAgIHF1ZXJ5LnNvcnQgPT09IFwiZGVzYy1kYXRlXCJcbiAgICAgID8geyBjcmVhdGVkQXQ6IFwiZGVzY1wiIH1cbiAgICAgIDogcXVlcnkuc29ydCA9PT0gXCJkZXNjLXByaWNlXCJcbiAgICAgID8geyBwcmljZTogXCJkZXNjXCIgfVxuICAgICAgOiBxdWVyeS5zb3J0ID09PSBcImFzYy1wcmljZVwiXG4gICAgICA/IHsgcHJpY2U6IFwiYXNjXCIgfVxuICAgICAgOiB7IGNyZWF0ZWRBdDogXCJhc2NcIiB9O1xuXG4gIGNvbnN0IGNhdGVnb3J5RmlsdGVyID1cbiAgICBxdWVyeS5jYXRlZ29yeSAmJiBxdWVyeS5jYXRlZ29yeSAhPT0gXCJhbGxcIlxuICAgICAgPyB7XG4gICAgICAgICAgY2F0ZWdvcnk6IHtcbiAgICAgICAgICAgIGlzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICBjb250YWluczogcXVlcnkuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgZ2V0UHJvZCA9IGF3YWl0IHByaXNtYS5wcm9kdWN0LmZpbmRNYW55KHtcbiAgICAgIHNraXA6IChOdW1iZXIocXVlcnkucGFnZSB8fCAxKSAtIDEpICogNixcbiAgICAgIHRha2U6IE51bWJlcihxdWVyeS5saW1pdCksXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNhdGVnb3J5OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIC4uLmNhdGVnb3J5RmlsdGVyLFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgY29udGFpbnM6IHF1ZXJ5LnF1ZXJ5LFxuICAgICAgICAgIG1vZGU6IFwiaW5zZW5zaXRpdmVcIiBhcyBjb25zdCxcbiAgICAgICAgfSxcbiAgICAgICAgZ2VuZGVyOiB7XG4gICAgICAgICAgaW46IHF1ZXJ5LmdlbmRlciA/IHF1ZXJ5LmdlbmRlci5zcGxpdChcIi1cIikgOiBnZW5kZXJGdWxsLFxuICAgICAgICB9LFxuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIGhhc1NvbWU6IGNvbG9yIHx8IGNvbG9yRnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpY2U6IHtcbiAgICAgICAgICBndDogcXVlcnkubWluID8gTnVtYmVyKHF1ZXJ5Lm1pbikgOiAwLFxuICAgICAgICAgIGx0OiBxdWVyeS5tYXggPyBOdW1iZXIocXVlcnkubWF4KSA6IDk5OTk5OTk5OSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiBvcmRlcixcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcHJpc21hLnByb2R1Y3QuY291bnQoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgLi4uY2F0ZWdvcnlGaWx0ZXIsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICBjb250YWluczogcXVlcnkucXVlcnksXG4gICAgICAgICAgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIGFzIGNvbnN0LFxuICAgICAgICB9LFxuICAgICAgICBnZW5kZXI6IHtcbiAgICAgICAgICBpbjogcXVlcnkuZ2VuZGVyID8gcXVlcnkuZ2VuZGVyLnNwbGl0KFwiLVwiKSA6IGdlbmRlckZ1bGwsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgaGFzU29tZTogY29sb3IgfHwgY29sb3JGdWxsLFxuICAgICAgICB9LFxuICAgICAgICBwcmljZToge1xuICAgICAgICAgIGd0OiBxdWVyeS5taW4gPyBOdW1iZXIocXVlcnkubWluKSA6IDAsXG4gICAgICAgICAgbHQ6IHF1ZXJ5Lm1heCA/IE51bWJlcihxdWVyeS5tYXgpIDogOTk5OTk5OTk5LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcHJvZHVjdDogZ2V0UHJvZCwgdG90YWwgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3QocmVzOiBOZXh0QXBpUmVzcG9uc2UsIHByb2R1Y3Q6IFByb2R1Y3RQcm9wcykge1xuICB0cnkge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgcHJpc21hLmNhdGVnb3J5LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgbmFtZTogcHJvZHVjdC5jYXRlZ29yeSB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQ2F0ZWdvcnkgbm90IGZvdW5kXCIgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgcHJpc21hLnByb2R1Y3QudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBwcm9kdWN0LmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogcHJvZHVjdC5uYW1lLFxuICAgICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeS5pZCxcbiAgICAgICAgY29sb3I6IHByb2R1Y3QuY29sb3IsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2MsXG4gICAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlLFxuICAgICAgICBsaXN0SW1hZ2U6IHByb2R1Y3QuaW1hZ2UsXG4gICAgICAgIHNpemU6IHByb2R1Y3Quc2l6ZSxcbiAgICAgICAgZ2VuZGVyOiBwcm9kdWN0LmdlbmRlcixcbiAgICAgICAgcXVhbnRpdHk6IHByb2R1Y3QucXVhbnRpdHksXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFwiVXBkYXRlIFN1Y2Nlc3NmdWxcIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVByb2R1Y3QocmVzOiBOZXh0QXBpUmVzcG9uc2UsIGlkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBwcmlzbWEucHJvZHVjdC5kZWxldGUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihcIlVwZGF0ZSBTdWNjZXNzZnVsXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsIlByb2R1Y3QiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJwcm9kdWN0IiwiYm9keSIsImNyZWF0ZVByb2R1Y3QiLCJxdWVyeSIsImdldFByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0IiwiaWQiLCJkZWxldGVQcm9kdWN0IiwiY2F0ZWdvcnkiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJuYW1lIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY3JlYXRlIiwiZGF0YSIsImNhdGVnb3J5SWQiLCJjb2xvciIsImRlc2NyaXB0aW9uIiwiZGVzYyIsInByaWNlIiwibGlzdEltYWdlIiwiaW1hZ2UiLCJzaXplIiwiZ2VuZGVyIiwicXVhbnRpdHkiLCJzcGxpdCIsInVuZGVmaW5lZCIsImNvbG9yRnVsbCIsImdlbmRlckZ1bGwiLCJvcmRlciIsInNvcnQiLCJjcmVhdGVkQXQiLCJjYXRlZ29yeUZpbHRlciIsImlzIiwiY29udGFpbnMiLCJtb2RlIiwiZ2V0UHJvZCIsImZpbmRNYW55Iiwic2tpcCIsIk51bWJlciIsInBhZ2UiLCJ0YWtlIiwibGltaXQiLCJpbmNsdWRlIiwiaW4iLCJoYXNTb21lIiwiZ3QiLCJtaW4iLCJsdCIsIm1heCIsIm9yZGVyQnkiLCJ0b3RhbCIsImNvdW50IiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/product/index.ts\n'
        );

        /***/
      },
  };
  // load runtime
  var __webpack_require__ = require("../../webpack-api-runtime.js");
  __webpack_require__.C(exports);
  var __webpack_exec__ = (moduleId) =>
    __webpack_require__((__webpack_require__.s = moduleId));
  var __webpack_exports__ = __webpack_exec__(
    "(api)/./pages/api/product/index.ts"
  );
  module.exports = __webpack_exports__;
})();
